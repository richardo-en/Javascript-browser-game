class Player extends Player_parent{constructor(t){super(t)}draw_player_to_canvas(){ctx.clearRect(this.position_to_remove.x_begin,this.position_to_remove.y_begin,this.position_to_remove.width,this.position_to_remove.height),ctx.save(),ctx.translate(this.position.x+this.position.width/2,this.position.y+this.position.height/2),ctx.rotate(this.rotation*Math.PI/180),ctx.drawImage(this.image,-this.position.width/2,-this.position.height/2,this.position.width,this.position.height),ctx.restore();var t=calculate_new_positions([this.position.x,this.position.y,this.position.width,this.position.height,this.rotation]);this.position_to_remove.x_begin=t[4][0],this.position_to_remove.y_begin=t[4][1],this.position_to_remove.width=t[4][2],this.position_to_remove.height=t[4][3]}start_move_right(){null===this.moveInterval&&(this.moveInterval=setInterval(()=>{this.position.x+this.speed+this.position.width<canvas.width&&(this.position.x+=this.speed,this.rotation+this.rotationSpeed<26&&(this.rotation+=this.rotationSpeed),this.draw_player_to_canvas())},20))}stop_move_right(){null!==this.moveInterval&&(clearInterval(this.moveInterval),this.moveInterval=null)}start_move_left(){null===this.moveInterval&&(this.moveInterval=setInterval(()=>{this.position.x-this.speed-10>0&&(this.position.x-=this.speed,this.rotation-this.rotationSpeed>-26&&(this.rotation-=this.rotationSpeed),this.draw_player_to_canvas())},20))}stop_move_left(){null!==this.moveInterval&&(clearInterval(this.moveInterval),this.moveInterval=null)}reset_rotation(){if(this.rotationAnimating)return;this.rotationAnimating=!0;let t=()=>{0!==this.rotation?(this.rotation-=Math.sign(this.rotation),this.draw_player_to_canvas(),setTimeout(t,10)):this.rotationAnimating=!1};t(),setTimeout(()=>{this.rotationAnimating=!1},10)}}