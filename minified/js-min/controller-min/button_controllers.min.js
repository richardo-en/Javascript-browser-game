var audio;function start_music(){(audio=document.getElementById("my_audio")).play(),audio.addEventListener("ended",(function(){audio.currentTime=0,audio.play()}))}function check_skin(e){var t=parseInt(e.target.textContent);let n=document.querySelectorAll(".skin_button");var o=Array.prototype.indexOf.call(n,e.target),a=JSON.parse(getCookie("quests")),s=parseInt(a[2].current_status);if(t){if(getCookie("coin")>=t&&s<=3){increase_coins(-t),increase_status(2);var l=JSON.parse(getCookie("skins"));l[o].unlocked=!0,upload_to_cokiee("skins",l),n[o].textContent="",setTimeout((function(){load_skins(o)}),0)}}else load_skins(o);play_sound("../../../static/sounds/button_click.mp3")}function set_volume(){play_sound("../../../static/sounds/button_click.mp3");let e=document.getElementById("button_container");var t=document.getElementById("my_audio"),n=document.getElementById("volume_bar").value/100;0==n&&0!=t.volume?(t.pause(),t.currentTime=0,"on"==e.className&&switch_mute_image()):0==t.volume&&n>0&&(t.currentTime=0,t.play(),"off"==e.className&&switch_mute_image()),t.volume=n}function save_settings_button(){set_settings_values(),set_volume(),(new Section).create_main_page(),play_sound("../../../static/sounds/button_click.mp3")}function draw_help_screen(){play_sound("../../../static/sounds/button_click.mp3"),document.getElementById("background_image").style.animation="none",remove_all_elements(),(new Canvas_screens).clear_screen(),(new Canvas_screens).help_screen()}function remove_all_elements(){document.querySelectorAll("section").forEach((e=>{e.querySelectorAll("*").forEach((e=>{e.style.display="none"}))}))}function switch_mute_image(){play_sound("../../../static/sounds/button_click.mp3");let e=document.getElementById("volume"),t=document.getElementById("button_container"),n=document.getElementById("volume_bar");var o=document.getElementById("my_audio");"on"==t.className?(e.src="../../../static/images/volume_off.svg",t.className="off",o.volume=0,n.value=0,o.pause(),o.currentTime=0):(e.src="../../../static/images/volume_on.svg",t.className="on",0==n.value&&(n.value=50),o.volume=.5,o.currentTime=0,o.play())}function check_for_existing_elements(e){remove_all_elements();let t=document.getElementById(e);if(t){var n=t.querySelectorAll("*");for(let e=0;e<n.length;e++)n[e].style.display="block";return!0}return!1}function check_for_rewards(e){var t=e.target.id,n=["played_games","reached_level","owned_cars"];const o=document.createElement("div");o.className="message";var a=JSON.parse(getCookie("quests"));for(let e=0;e<n.length;e++)if(t===n[e]){let t=parseInt(a[e].current_status,10),n=parseInt(a[e].reward_goal,10),s=parseInt(a[e].reward,10);t>=n&&(1==e&&t<=3||2==e&&t<=3||0==e)?(o.textContent="Coins were added!",o.style.background="green",increase_coins(s),increase_reward(e)):(o.textContent="Coins weren't added!",o.style.background="red"),document.body.appendChild(o),o.style.opacity="1",setTimeout((()=>{o.style.opacity="0",setTimeout((()=>{document.body.removeChild(o)}),500)}),3e3);break}play_sound("../../../static/sounds/button_click.mp3")}function start_game_controller(e){var t=parseInt(e.target.textContent);load_levels(t),play_sound("../../../static/sounds/button_click.mp3")}function play_sound(e){const t=document.createElement("audio");t.src=e,setTimeout((function(){t.volume=get_volume()/100,t.play()}),100),t.addEventListener("ended",(()=>{t.remove()})),window.addEventListener("load",(function(){t.volume=get_volume()/100,t.play()}))}document.addEventListener("keydown",(e=>{game_run()&&(e.key.toUpperCase()===document.getElementById("movement_right").value?player.start_move_right():e.key.toUpperCase()===document.getElementById("movement_left").value&&player.start_move_left())})),document.addEventListener("keyup",(e=>{game_run()&&(e.key.toUpperCase()===document.getElementById("movement_right").value?(player.stop_move_right(),player.reset_rotation()):e.key.toUpperCase()===document.getElementById("movement_left").value&&(player.stop_move_left(),player.reset_rotation()))})),document.addEventListener("keydown",(function(e){"p"===e.key&&game_run()&&(stop_all_elements(),setTimeout((function(){draw_game_screen("break"),document.getElementById("car_sound").pause()}),100))}));