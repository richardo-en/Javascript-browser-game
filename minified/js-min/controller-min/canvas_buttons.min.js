var canvas=document.getElementById("main_canvas"),ctx=canvas.getContext("2d"),canvas_screen=null,positions=null;function return_to_main_menu(){(new Canvas_screens).clear_screen(),(new Section).create_main_page(),canvas.className="not_touchable",document.getElementById("background_image").style.animation="moveBackground 4s linear infinite",start_music(),reset()}function next_level(){var e,n=document.getElementsByClassName("lvl_button");for(let t=0;t<n.length;t++)"coin"!=n[t].id&&("selected"===n[t].id&&(e=t+1,n[t].removeAttribute("id")),n[t].removeAttribute("id"));n[e].id="selected",start_game()}function continue_game(){play_sound("../../../static/sounds/button_click.mp3"),ctx.clearRect(0,0,canvas.clientWidth,canvas.clientHeight),document.getElementById("car_sound").play(),resume_all_elements()}canvas.addEventListener("click",(function(e){canvas_screen=get_screen();let n=e.clientX-canvas.offsetLeft,t=e.clientY-canvas.offsetTop;if("touchable"==canvas.className){positions=canvas_screen.get_positions();for(let e=0;e<positions.length;e++)n>=positions[e][0]&&n<=positions[e][2]&&t>=positions[e][1]&&t<=positions[e][3]&&("lose"==canvas_screen.get_type()?0==e?return_to_main_menu():1==e&&(ctx.clearRect(0,0,canvas.width,canvas.height),reset(),start_game()):"win"==canvas_screen.get_type()?0==e?(ctx.clearRect(0,0,canvas.width,canvas.height),next_level()):1==e?return_to_main_menu():2==e&&(ctx.clearRect(0,0,canvas.width,canvas.height),reset(),start_game()):"break"==canvas_screen.get_type()&&(0==e?continue_game():1==e&&return_to_main_menu()))}else"help_screen"==canvas.className&&n>=canvas.width/2-120&&n<=canvas.width/2+120&&t>=canvas.height-100&&t<=canvas.height-55&&((new Canvas_screens).clear_screen(),canvas.className="not_touchable",return_to_main_menu())}));